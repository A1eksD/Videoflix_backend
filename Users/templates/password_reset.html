{% extends "base_generic.html" %}

{% block content %}

  {% if step == 'request' %}
    <h2>Reset your password</h2>
    <form method="post" action="{% url 'password_reset' %}">
      {% csrf_token %}
      <input type="email" name="email" placeholder="Enter your email" required>
      <button type="submit">Send reset link</button>
    </form>
  
  {% elif step == 'done' %}
    <h2>Password reset link sent</h2>
    <p>We've emailed you instructions for setting your password.</p>
  
  {% elif step == 'confirm' %}
    <h2>Enter new password</h2>
    <form method="post" action="{% url 'password_reset_confirm' uid=uid token=token %}">
      {% csrf_token %}
      <input type="password" name="new_password1" placeholder="New password" required>
      <input type="password" name="new_password2" placeholder="Confirm new password" required>
      <button type="submit">Set new password</button>
    </form>
  
  {% elif step == 'complete' %}
    <h2>Password reset complete</h2>
    <p>Your password has been set. You can now <a href="{% url 'login' %}">log in</a>.</p>
  
  {% endif %}

{% endblock %}